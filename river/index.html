<html>
<head>
<title>Demos</title>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<link rel="stylesheet" type="text/css" href="css/main.css">
<link rel="stylesheet" type="text/css" href="cube/cube.css">
<link rel="stylesheet" type="text/css" href="card.css">
<style type="text/css">
</style>
</head>

<body >
<div class="layout">
	<div id="header" class="header">
		<span class="site-name">River Studio</span>
		<span class="site-desc">Opening mind, beautiful world.</span>
	</div>
<div class="body">
<div id="cards-div" class="cards main-div">
	<div class="col-12-8 card-out">
	<div id="babypainter" class="card-in ">
		<div class="card-header">
			<span class="card-title">BabyPainter</span>
		</div>
		<div class="card-body">
			<canvas id="painterCanvas" class="demo-board" ></canvas>
		</div>
		<div class="control-board-out">
		<!--<div class="control-road"></div>-->
		<div class="control-board">
			<div class="control-actions">
			<button onclick="painter.clear()">Clear</button>
			<button onclick="painter.replay(painter.traces, painter.durings)">Replay</button>
			<button onclick="painter.playDefaults()">Play Defaults</button>
			<button onclick="painter.reset()">Reset</button>
			</div>
		</div>
		</div>
	</div>
	</div>

	<div class="col-12-4 card-out">
	<div id="cubeDemoDiv" class="card-in">
		<div class="card-header">
			<span class="card-title">Cube</span>
		</div>
		<div class="card-body">
		<svg id="cube_svg" class="demo-board">
		</svg>
		</div>
		<div class="control-board">
			<!--<select id="cube_type" onchange="cube.type = Number(this.value);" >
				<option value="0">In Aspect 0</option>
				<option value="1">In Aspect 1</option>
				<option value="2">In Line 0</option>
				<option value="3">In Line 1</option>
			</select>-->
			<button onclick="stopRotate()" >Stop</button>
			<!--<button onclick="drawer.clearSvg(svg); demoCube();" >Start</button>-->
			<button onclick="cube.rotateH(1)" style="vertical-align: top;">Horizontally</button>
			<button onclick="cube.rotateV(1)" style="vertical-align: top;">Vertically</button>
			<!--<button onclick="cube.stepH(10)" >Step Horizontally</button>
			<button onclick="cube.stepV(20)" >Step Vertically</button>-->
			<!--<button onclick="demoH()" style="vertical-align: top;">Demo H</button>
			<button onclick="demoV()" style="vertical-align: top;">Demo V</button>-->
			<!--<button onclick="cube.stepAlgH(30, svg) " >Alg H</button>
			<button onclick="cube.stepAlgV(15) " >Alg V</button>-->
		</div>
	</div>
	</div>
	
	<div class="col-12-8 card-out">
	<div class="card-in" id="river-chart-div">
		<div class="card-header">
			<span class="card-title">RiverChart</span>
		</div>
		<div class="card-body">
			<iframe src="riverchart/riverchart.html" class="card-iframe" id="riverchartWin"></iframe>
		</div>
		<div class="control-board-out">
		<div class="control-board">
			<div class="control-actions">
			<button onclick="riverchartWin.refreshRing()">Ring</button>
			<button onclick="riverchartWin.refreshMRing()">MRing</button>
			<button onclick="riverchartWin.refreshVBars()">VBars</button>
			<button onclick="riverchartWin.refreshVMBars()">VMBars</button>
			<!--<button onclick="riverchartWin.refreshHBars()">HBars</button>-->
			</div>
		</div>
		</div>
	</div>
	</div>

	<div class="col-12-4 card-out">
	<div id="demoAlgDiv" class="card-in ">
		<div class="card-header">
			<span class="card-title">Sort</span>
		</div>
		<div class="card-body">
		<svg id="demoAlg_svg" class="demo-board">
			<g id="main_g" ></g>
			<g id="temp_g" transform="translate(0,150)"></g>
		</svg>
		</div>
		<div class="control-board-bottom" >
			<div class="actions-board">
			<button onclick="startSort('quickSort');" class="sort-btn quickSort">Quick Sort</button>
			<button onclick="startSort('bubbleSort');" class="sort-btn bubbleSort">Bubble Sort</button>
			<button onclick="startSort('mergeSort');" class="sort-btn mergeSort">Merge Sort</button>
			</div>
			<div class="params-board">
			<span >Num</span>
			<input type="text" value="30" id="sort_num"></input>
			<span>Speed</span>
			<input type="text" value="8" id="sort_speed"></input>
			</div>
		</div>
	</div>
	</div>

	<div class="col-12-4 card-out">
	<div id="demoHanoiDiv" class="card-in">
		<div class="card-header">
			<span class="card-title">Hanoi 汉诺塔</span>
			<span class="card-desc">将所有盘子移到C柱；每次只能移动一个盘子；大盘不能在小盘上</span>
		</div>
		<div class="card-body" >
			<div>
				<svg id="demoHanoi_svg" class="demo-board">
				</svg>
				<div class="control-board-bottom" >
					<button onclick="demoHanoi();" id="hanoi-btn" >Start</button>
					<span >Num</span>
					<input type="text" value="3" id="hanoi_num"></input>
					<span>Speed</span>
					<input type="text" value="8" id="hanoi_speed" ></input>
					<span>steps: <span id="hanoi_steps"></span></span>
				</div>
			</div>
			<div class="" style="display: none; overflow: auto; min-width: 100px; text-align: left;">
				<span>
					<a href="http://zh.wikipedia.org/wiki/%E6%B1%89%E8%AF%BA%E5%A1%94">汉诺塔</a><a href="http://en.wikipedia.org/wiki/Tower_of_Hanoi" style="margin-left: 10px;">Tower of Hanoi</a>
				</span>
				<ul>
					<li>每次只能移动一个盘子；</li>
					<li>只有最顶上的盘子可以移动；</li>
					<li>大的盘子不能放在小盘子上方；</li>
				</ul>
				<!--Each time move one dish;
				Only the uppermost dish on a stack can be moved;
				A bigger dish cannot be placed over a smaller one-->
				<div id="steps_desc">
					<ul>
						<li>移动n个盘子所需步骤是2<sup>n</sup>-1次</li>
						<li>3个盘子需要7步</li>
						<li>8个盘子需要255步</li>
						<li>10个盘子需要1023步</li>
						<li>15个盘子需要32767步</li>
						<li>20个盘子需要1048575步</li>
					</ul>
					<p>经过我在自己电脑的chrome浏览器中测试，我的浏览器只能最多承受23个盘子；</p>
					<p >当前所需步骤 <span id="hanoi_steps"></span></p>
				</div>
			</div>
		</div>
	</div>
	</div>

	<div class="col-12-4 card-out">
	<div id="linerDemoDiv" class="card-in ">
		<div class="card-header">
			<span class="card-title">Liner</span>
		</div>
		<div class="card-body">
			<div class="choose-div">
			<select id="chooseMode" onchange="liner.switchMode(value);">
				<option value="0">1 - 1</option>
				<option selected value="1">1 - N</option>
				<option value="2">N - 1</option>
				<option value="3">N - N</option>
			</select>
			<input id="test-in" style="" ></input>
			</div>
			<div >
				<canvas id="linerCanvas" class="demo-board"></canvas>
			</div>
		</div>
	</div>
	</div>

	<div class="col-12-4 card-out">
	<div id="demoTwowaybindingDiv" class="card-in">
		<div class="card-header">
			<span class="card-title">River's Template Language Engine</span>
		</div>
		<div class="card-body">
			<div>
				<div>
				  <span>{{title}}</span>
				  <input value="{{ title }}"></input>
				</div>
				<ul repeat="{{season in seasons}}">
				  <li>
				    <div>
				      <span>{{season.title}}</span>
				      <input value="{{season.title}}"></input>
				    </div>
				    <ul>
				      <li repeat="{{feature in season.features}}">
				        <span>{{feature}}</span>
				        <input value="{{feature}}"></input>
				      </li>
				    </ul>
				  </li>
				</ul>
			</div>
			<area id="twowaybinding-code">
			</area>
		</div>
	</div>
	</div>

	<div class="col-12-4 card-out">
	<div id="demoTipDiv" class="card-in">
		<div class="card-header">
			<span class="card-title">Tip</span>
			<span class="card-desc">带边界检测的tip</span>
		</div>
		<div class="card-body">
		<svg id="demoTipSVG" class="demo-board">
			<g id="pearsG">
				<path id="tipPath" fill="#fff" stroke-width="1" stroke="brown"></path>
			</g>
			<text id="tipText" text-anchor="middle" fill="gray"></text>
		</svg>
		</div>
	</div>
	</div>
</div>
</div>
	<div class="footer">
	<div class="declare">
		<span class="declare-item">The demos on this page are coded by River, without depending on any third party library.</span>
		<span class="declare-item"></span>
		<span class="declare-item">Here is a place for River to explore the unknown area on technologies.</span>
	</div>
	<div class="about-me">
		<span class="about-item">River Deng</span>
	</div>
	</div>
</div>
</body>
<script type="text/javascript" src="waterfall/queue.js"></script>
<script type="text/javascript" src="waterfall/waterfall.js"></script>
<script type="text/javascript" src="tools/drawer.js"></script>
<script type="text/javascript" src="canvas/painter.js"></script>
<script type="text/javascript" src="canvas/liner.js"></script>
<script type="text/javascript" src="canvas/painter-defaults.js"></script>
<script type="text/javascript" src="cube/cube.js"></script>
<script type="text/javascript" src="tools/utils.js"></script>
<script type="text/javascript" src="swimRing/swimRingChart.js"></script>
<script type="text/javascript" src="tip/tip.js"></script>
<script type="text/javascript" src="tip/pears.js"></script>
<script type="text/javascript" src="alg/sort.js"></script>
<script type="text/javascript" src="alg/virtualizeSortAlg.js"></script>
<script type="text/javascript" src="alg/mergeSort.js"></script>
<script type="text/javascript" src="hanoi/hanoi.js"></script>
<script type="text/javascript" src="two-way-binding/twowaybinding.js"></script>

<script type="text/javascript">
	function detectWindow(){
		var boards = document.querySelectorAll(".demo-board");
		for(var i = boards.length - 1; i >= 0; i--){
			var mystyle = Utils.getStyle(boards[i]);
			var cardW = Utils.getPxNum(mystyle.getPropertyValue("width"));
			var cardH = Utils.getPxNum(mystyle.getPropertyValue("height"));
			console.log(cardW, cardH);
			var tagName = boards[i].tagName.toUpperCase();
			if(tagName  === "SVG" || tagName === "CANVAS"){
				boards[i].setAttribute("width", cardW);
				boards[i].setAttribute("height", cardH);
			}/*else if(boards[i].tagName.toUpperCase() === "CANVAS"){
				boards[i].setAttribute("width", cardW + "px");
				boards[i].setAttribute("height", cardH + "px");
			}*/
		}
	}
	Utils.bindEvent(window, "load", init );

	function init(){
		Utils.addClass(document.getElementById("header"), "header-bg");
		waterfall("cards-div", "card-out");
		detectWindow();
		demos();
	}
	function demos() {
		demoPainter(); 
		demoLiner(); 
		demoCube(); 
		demoTwowaybinding(default_binding, document.getElementById('demoTwowaybindingDiv'));
		demoTip();
		sortPrepare();
		demoHanoi();
	}
</script>
</html>
